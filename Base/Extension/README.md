PHP 扩展包开发
=============
LX2 PHP 扩展包实战教程 - 从入门到发布 https://learnku.com/courses/creating-package  


异常抛出原则
===========

什么时候应该抛出异常？
---------------------

按照单一职责原则，一个类只应该关心自己的逻辑，当出现问题的时候，如果不是当前类该处理的，我们就应该抛出而不是消化。怎么理解呢？比如，请求天气接口的时候，网络出现问题，Guzzle 抛出了异常，这时候应该抛出异常。可是为啥不是 catch 异常然后返回 false 呢？这就涉及到边界问题了，业务异常与运行时异常 要区分开，对方接口说你要查询的城市不存在，返回错误，这属于业务异常，这时候是不会抛出异常的。而你请求的 API 不存在，或者对方服务器宕机，或者你的服务器网络出问题，这属于运行时异常，就应该以异常抛出来告知调用方，而不是自主处理该异常并返回 false 来结束逻辑。


异常的分类与命名
---------------

异常通常分为几个种类，按名称来命名：

- 参数错误，当传入的参数不合法时，我们通常抛出异常；
- HTTP 异常，在请求 API 时异常终止时抛出的异常；
- 其它异常，模块其它部分异常。

当然还有其它的，你可以命名非常细，比如 InvalidGatewayNameException、ErrorResponseException 等等，你可以自由发挥，只要做到合理命名即可。

